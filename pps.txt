
   \\ TALON NAVIGATION //
   "walk among the stars"


DCPU-16 Hardware Info:
    Name: Pulsar Positioning System (navigator)
    ID: 0xfce26509
    Version: 0xb01e
    Manufacturer: 0x982d3e46 (TALON NAVIGATION SYSTEMS)

Description:
    PPS can determine it's position using radio-wave and x-ray signals 
    from pulsars. PPS can function anywhere in Milky Way galaxy, but it 
    requires a dish antenna of 2m in diameter. Talon is the only provider
    of PPS systems that can utilize over 2000 beacon pulsars for 
    measuring position.

    Talon PPS hardware provides the fastest signal acquisition on market.
    It can cold start (no time, no position, no ephemeris) in <55 seconds
    and measure new position data every 8-25 seconds.

    Talon PPS functions by storing latest position measurement results in 
    internal memory array. Interrupts GET_LOCAL_COORDINATES and
    STORE_GLOBAL_COORDINATES can be used to access the data. 

Interrupt behavior:
    When a HWI is received by the PPS, it reads the A register and does one
    of the following actions:

    0: RESET_LOCAL_ORIGIN
       Sets current position as the new origin for subsequent 
       GET_LOCAL_COORDINATES -queries.
    
       Register C is set with the operation status:
          0x0000       : Success
          0x8000       : Failure, no pulsar fix
          0x8001       : Failure, cannot reset with reduced accuracy
          0xffff       : Equipment malfunction

    1: GET_LOCAL_COORDINATES
       Stores the current position data to DCPU-16 registers X, Y and Z.

       Coordinates are INT16 two's complement integers
         X (INT16) x-coordinate (unit 1km)
         Y (INT16) y-coordinate (unit 1km)
         Z (INT16) z-coordinate (unit 1km)

       Register C is set with the operation status:
          0x0000       : Success
          0x0001       : Success, but reduced accuracy
          0x8000       : Failure, no pulsar fix
          0x8002       : Failure, out of range
          0xffff       : Failure, equipment malfunction

    2: STORE_GLOBAL_COORDINATES
       Reads the B register, and writes the current position data to DCPU-16
       ram from B to B+11. Halts the DCPU-16 for 12 cycles.

       Coordinates are INT64 two's complement integers stored from MSB to LSB
         [B+0] INT64: x-coordinate (unit 1km)
         [B+4] INT64: y-coordinate (unit 1km)
         [B+8] INT64: z-coordinate (unit 1km)

       Register C is set with the operation status:
          0x0000       : Success
          0x0001       : Success, but reduced accuracy
          0x8000       : Failure, no pulsar fix
          0xffff       : Failure, equipment malfunction

    4: SET_INTERRUPT
       Enables interrupts and sets the message to X if X is anything other 
       than 0, disables interrupts if X is 0. When interrupts are enabled,
       the PPS will trigger an interrupt on the DCPU-16 whenever new position
       data is available in PPS's internal memory.
